# Holiday Party Planner - Production Configuration Template
# 
# This is a template for production .env configuration
# Copy this to .env on your server and fill in the actual values
#
# SECURITY: Never commit the actual .env file to Git!

# ============================================================================
# Flask Configuration
# ============================================================================

FLASK_APP=run.py
FLASK_ENV=production

# Generate a strong secret key with:
# python3 -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=CHANGE-THIS-TO-A-LONG-RANDOM-STRING-64-CHARS-OR-MORE

# ============================================================================
# Database Configuration
# ============================================================================

# For SQLite (default - good for small to medium deployments):
DATABASE_URL=sqlite:///instance/holiday_party.db

# For PostgreSQL (recommended for high-traffic production):
# DATABASE_URL=postgresql://username:password@localhost/database_name

# ============================================================================
# Brevo (Sendinblue) Email Configuration
# ============================================================================

# Get your API key from: https://app.brevo.com/settings/keys/api
BREVO_API_KEY=your-brevo-api-key-here

# Must be a verified sender in your Brevo account
BREVO_SENDER_EMAIL=noreply@yourdomain.com
BREVO_SENDER_NAME=Holiday Party Planner

# ============================================================================
# Application Settings
# ============================================================================

APP_NAME=Family Holiday Party Planner

# Your production domain (with https://)
APP_URL=https://yourdomain.com

# Support email for user inquiries
SUPPORT_EMAIL=support@yourdomain.com

# ============================================================================
# Security & Authentication
# ============================================================================

# How long RSVP tokens remain valid (in days)
TOKEN_EXPIRATION_DAYS=90

# How long magic login links remain valid (in minutes)
MAGIC_LINK_EXPIRATION_MINUTES=30

# How long password reset links remain valid (in minutes)
PASSWORD_RESET_EXPIRATION_MINUTES=60

# Maximum authentication token requests per hour per IP
AUTH_TOKEN_RATE_LIMIT=5

# ============================================================================
# Email Settings (SMTP)
# ============================================================================

# Brevo SMTP settings
MAIL_SERVER=smtp-relay.brevo.com
MAIL_PORT=587
MAIL_USE_TLS=True

# Your Brevo SMTP credentials
MAIL_USERNAME=your-brevo-smtp-username
MAIL_PASSWORD=your-brevo-smtp-password

# ============================================================================
# Background Jobs
# ============================================================================

# Enable/disable the background scheduler
SCHEDULER_ENABLED=True

# Hour of day (0-23) to check for and send reminders
REMINDER_CHECK_HOUR=9

# ============================================================================
# Feature Flags
# ============================================================================

# Enable SMS notifications (requires additional setup)
ENABLE_SMS=False

# Enable message wall feature
ENABLE_MESSAGE_WALL=True

# Enable potluck coordination feature
ENABLE_POTLUCK=True

# ============================================================================
# Logging
# ============================================================================

# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Log file path (relative to app directory)
LOG_FILE=logs/app.log

# ============================================================================
# Production-Specific Settings
# ============================================================================

# These are typically set in the systemd service file or nginx config
# but can be overridden here if needed

# Number of Gunicorn workers (typically 2-4 x CPU cores)
# WEB_CONCURRENCY=4

# Gunicorn timeout in seconds
# GUNICORN_TIMEOUT=120

# ============================================================================
# Optional: External Services
# ============================================================================

# If using external monitoring/error tracking services:
# SENTRY_DSN=your-sentry-dsn-here
# ROLLBAR_ACCESS_TOKEN=your-rollbar-token-here

# If using external storage (S3, etc.):
# AWS_ACCESS_KEY_ID=your-aws-key
# AWS_SECRET_ACCESS_KEY=your-aws-secret
# S3_BUCKET=your-bucket-name

# ============================================================================
# Notes
# ============================================================================

# 1. Generate SECRET_KEY:
#    python3 -c "import secrets; print(secrets.token_hex(32))"
#
# 2. Set proper file permissions:
#    chmod 600 .env
#    chown app-user:app-group .env
#
# 3. Never commit this file to version control
#
# 4. Keep a secure backup of this file
#
# 5. Restart the application after changing values:
#    sudo systemctl restart holiday-party

